{"version":3,"sources":["webpack:///./src/views/Login.vue?02ce","webpack:///./src/views/Login.vue?bb6b","webpack:///./src/views/Login.vue?5134","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?a6b1"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","showRegister","_v","class","show","isShowRegister","directives","name","rawName","value","register","expression","domProps","$event","type","indexOf","_k","keyCode","key","onRegister","target","composing","$set","error","isError","_s","notice","showLogin","isShowLogin","login","onLogin","staticRenderFns","username","password","test","loadingInstance","service","background","setTimeout","close","registerUser","then","$router","push","$message","success","catch","res","msg","loginUser","methods","component"],"mappings":"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","file":"js/chunk-59868aec.66d887b9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"login\"}},[_c('div',{staticClass:\"mask\"},[_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"main\"}),_c('div',{staticClass:\"form\"},[_c('h3',{on:{\"click\":_vm.showRegister}},[_vm._v(\"创建账户\")]),_c('div',{staticClass:\"register\",class:{show: _vm.isShowRegister}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.register.username),expression:\"register.username\"}],attrs:{\"type\":\"text\",\"placeholder\":\"用户名\"},domProps:{\"value\":(_vm.register.username)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onRegister($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.register, \"username\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.register.password),expression:\"register.password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.register.password)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onRegister($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.register, \"password\", $event.target.value)}}}),_c('p',{class:{error: _vm.register.isError}},[_vm._v(_vm._s(_vm.register.notice))]),_c('div',{staticClass:\"button\",on:{\"click\":_vm.onRegister}},[_vm._v(\"创建账号\")])]),_c('h3',{on:{\"click\":_vm.showLogin}},[_vm._v(\"登录\")]),_c('div',{staticClass:\"login\",class:{show: _vm.isShowLogin}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.login.username),expression:\"login.username\"}],attrs:{\"type\":\"text\",\"placeholder\":\"输入用户名\"},domProps:{\"value\":(_vm.login.username)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onLogin($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.login, \"username\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.login.password),expression:\"login.password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.login.password)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onLogin($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.login, \"password\", $event.target.value)}}}),_c('p',{class:{error: _vm.login.isError}},[_vm._v(_vm._s(_vm.login.notice))]),_c('div',{staticClass:\"button\",on:{\"click\":_vm.onLogin}},[_vm._v(\"登录\")])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport {Component} from 'vue-property-decorator';\r\nimport {mapActions} from 'vuex';\r\nimport {Loading} from 'element-ui';\r\n\r\n@Component({\r\n  methods: {\r\n    ...mapActions([\r\n      'loginUser',\r\n      'registerUser'\r\n    ])\r\n  }\r\n})\r\nexport default class Login extends Vue {\r\n  isShowLogin = true;\r\n  isShowRegister = false;\r\n  login = {\r\n    username: '',\r\n    password: '',\r\n    notice: '输入用户名和密码',\r\n    isError: false\r\n  };\r\n  register = {\r\n    username: '',\r\n    password: '',\r\n    notice: '创建账号后，请记住用户名和密码',\r\n    isError: false\r\n  };\r\n  loginUser!: Function;\r\n  registerUser!: Function;\r\n\r\n  showLogin() {\r\n    this.isShowLogin = true;\r\n    this.isShowRegister = false;\r\n  }\r\n\r\n  showRegister() {\r\n    this.isShowLogin = false;\r\n    this.isShowRegister = true;\r\n  }\r\n\r\n  onRegister() {\r\n    if (!/^[\\w\\u4e00-\\u9fa5]{3,15}$/.test(this.register.username)) {\r\n      this.register.isError = true;\r\n      this.register.notice = '用户名 3~15 个字符，仅限于字母数字下划线中文';\r\n      return;\r\n    }\r\n    if (!/^.{6,16}$/.test(this.register.password)) {\r\n      this.register.isError = true;\r\n      this.register.notice = '密码长度为 6~16 个字符';\r\n      return;\r\n    }\r\n    const loadingInstance = Loading.service({background: 'rgba(255,255,255,.65)'});\r\n    setTimeout(() => {\r\n      loadingInstance.close();\r\n      this.registerUser({\r\n        username: this.register.username,\r\n        password: this.register.password\r\n      }).then(() => {\r\n        this.register.isError = false;\r\n        this.register.notice = '';\r\n        this.$router.push('/notebooks');\r\n        this.$message.success('登录成功');\r\n      }).catch((res: { msg: string }) => {\r\n        this.register.isError = true;\r\n        this.register.notice = res.msg;\r\n      });\r\n    }, 1000);\r\n  }\r\n\r\n  onLogin() {\r\n    if (!/^[\\w\\u4e00-\\u9fa5]{3,15}$/.test(this.login.username)) {\r\n      this.login.isError = true;\r\n      this.login.notice = '用户名 3~15 个字符，仅限于字母数字下划线中文';\r\n      return;\r\n    }\r\n    if (!/^.{6,16}$/.test(this.login.password)) {\r\n      this.login.isError = true;\r\n      this.login.notice = '密码长度为 6~16 个字符';\r\n      return;\r\n    }\r\n    const loadingInstance = Loading.service({background: 'rgba(255,255,255,.65)'});\r\n    setTimeout(() => {\r\n      loadingInstance.close();\r\n      this.loginUser({\r\n        username: this.login.username,\r\n        password: this.login.password\r\n      }).then(() => {\r\n        this.login.isError = false;\r\n        this.login.notice = '';\r\n        this.$router.push('/notebooks');\r\n        this.$message.success('登录成功');\r\n      }).catch((res: { msg: string }) => {\r\n        this.login.isError = true;\r\n        this.login.notice = res.msg;\r\n      });\r\n    }, 1000);\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=622b0d19&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=ts&\"\nexport * from \"./Login.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=622b0d19&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"622b0d19\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=622b0d19&lang=scss&scoped=true&\""],"sourceRoot":""}