(function(t){function e(e){for(var o,a,u=e[0],s=e[1],i=e[2],d=0,l=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&l.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);f&&f(e);while(l.length)l.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],o=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(o=!1)}o&&(c.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},a={app:0},r={app:0},c=[];function u(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-2d21af29":"ccada908","chunk-44c8b642":"d45537d0","chunk-e6706192":"cc1268f9","chunk-eb366338":"1d5df8bd","chunk-59868aec":"66d887b9","chunk-893e7754":"9e72d374"}[t]+".js"}function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-e6706192":1,"chunk-eb366338":1,"chunk-59868aec":1,"chunk-893e7754":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var o="css/"+({}[t]||t)+"."+{"chunk-2d21af29":"31d6cfe0","chunk-44c8b642":"31d6cfe0","chunk-e6706192":"d430f228","chunk-eb366338":"468fb6a3","chunk-59868aec":"c586c466","chunk-893e7754":"fb3817a0"}[t]+".css",r=s.p+o,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var i=c[u],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===o||d===r))return e()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){i=l[u],d=i.getAttribute("data-href");if(d===o||d===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var o=e&&e.target&&e.target.src||r,c=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=o,delete a[t],f.parentNode.removeChild(f),n(c)},f.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){a[t]=0})));var o=r[t];if(0!==o)if(o)e.push(o[2]);else{var c=new Promise((function(e,n){o=r[t]=[e,n]}));e.push(o[2]=c);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=u(t);var l=new Error;i=function(e){d.onerror=d.onload=null,clearTimeout(f);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",l.name="ChunkLoadError",l.type=o,l.request=a,n[1](l)}r[t]=void 0}};var f=setTimeout((function(){i({type:"timeout",target:d})}),12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(e)},s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/xiyo-note-website/",s.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var f=d;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"04db":function(t,e,n){"use strict";n("ec58")},"0980":function(t,e,n){"use strict";n.r(e);var o=n("e017"),a=n.n(o),r=n("21a1"),c=n.n(r),u=new a.a({id:"backto",use:"backto-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="backto"><defs><style></style></defs><path d="M261.31 467.211l99.327-108.188-55.43-60.327L138.92 479.722l-27.648 30.141 193.981 211.39 55.34-60.55-99.283-108.188H677.5V467.21H261.31zM442.423 1024h391.791a75.42 75.42 0 0055.608-25.021 89.533 89.533 0 0022.84-60.55V85.526A82.276 82.276 0 00834.036 0h-391.79v85.304H794.68a37.576 37.576 0 0127.781 12.243 44.522 44.522 0 0111.665 30.052v768.757a41.227 41.227 0 01-39.446 42.34H442.424V1024zm0 0" /></symbol>'});c.a.add(u);e["default"]=u},"0d45":function(t,e,n){"use strict";n.r(e);var o=n("e017"),a=n.n(o),r=n("21a1"),c=n.n(r),u=new a.a({id:"delete",use:"delete-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="delete"><defs><style></style></defs><path d="M866.133 216.235H729.685v-48.811A38.4 38.4 0 00690.432 128H331.691a38.4 38.4 0 00-39.254 39.424v46.933H156.032C141.099 216.235 128 229.42 128 244.437s13.099 28.16 28.032 28.16h711.936c14.933 0 28.032-13.141 28.032-28.16-1.877-15.018-14.933-28.16-29.867-28.16zM757.76 332.715H264.363c-7.467 0-14.934 1.834-18.688 7.466a24.15 24.15 0 00-7.467 18.774v454.4c.043 45.098 37.419 82.645 82.219 82.645h383.061c44.843 0 82.219-37.547 82.219-82.603v-454.4c0-15.061-13.099-26.325-28.032-26.325zM440.021 770.133c0 15.019-13.098 28.16-28.032 28.16a28.8 28.8 0 01-28.032-28.16V473.472c0-15.019 13.099-28.16 28.032-28.16 14.934 0 28.032 13.141 28.032 28.16v296.661zm198.059 0c0 15.019-13.056 28.16-28.032 28.16a28.8 28.8 0 01-28.032-28.16V473.472c0-15.019 13.099-28.16 28.032-28.16s28.032 13.141 28.032 28.16v296.661z" /></symbol>'});c.a.add(u);e["default"]=u},"2b7c":function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return u}));n("0fb7"),n("450d");var o=n("f529"),a=n.n(o),r=(n("d3b7"),n("bc3a")),c=n.n(r);function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(o,r){var u={url:t,method:e,validateStatus:function(t){return t>=200&&t<300||400===t}};"get"===e.toLowerCase()?u.params=n:u.data=n,c()(u).then((function(t){200===t.status?o(t.data):(a.a.error(t.data.msg),r(t.data))})).catch((function(t){a.a.error(t),r(t)}))}))}c.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",c.a.defaults.baseURL="https://note-server.hunger-valley.com",c.a.defaults.withCredentials=!0},"2e7a":function(t,e,n){},"49f4":function(t,e,n){},"5c0b":function(t,e,n){"use strict";n("9c0c")},"6ca5":function(t,e,n){"use strict";n.r(e);var o=n("e017"),a=n.n(o),r=n("21a1"),c=n.n(r),u=new a.a({id:"notebook",use:"notebook-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="notebook"><defs><style></style></defs><path d="M893.615 120.845c-19.08 0-31.801 12.72-31.801 31.801v737.789c0 31.801-31.802 63.602-63.603 63.602H238.51c-38.161 0-82.683-31.801-82.683-63.602v-69.963c0-31.801 38.162-50.882 76.323-50.882h534.26c19.082 0 31.802-12.72 31.802-31.801V114.484C798.211 44.522 747.33 0 671.006 0H238.51C168.547 0 98.584 38.161 98.584 114.484V915.875c6.36 57.243 63.602 101.765 120.845 108.125H798.21c69.963 0 127.205-57.242 127.205-120.845V152.646c0-12.72-12.72-31.801-31.801-31.801zM772.77 833.193H251.23c-19.08 0-31.801 12.72-31.801 31.8s12.72 31.802 31.8 31.802H772.77c19.08 0 31.801-12.72 31.801-31.801s-12.72-31.801-31.8-31.801z" /></symbol>'});c.a.add(u);e["default"]=u},"76a4":function(t,e,n){"use strict";n.r(e);var o=n("e017"),a=n.n(o),r=n("21a1"),c=n.n(r),u=new a.a({id:"add",use:"add-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="add"><defs><style></style></defs><path d="M483.556 483.556V199.11a28.444 28.444 0 0156.888 0v284.445H824.89a28.444 28.444 0 110 56.888H540.444V824.89a28.444 28.444 0 11-56.888 0V540.444H199.11a28.444 28.444 0 010-56.888h284.445z" /></symbol>'});c.a.add(u);e["default"]=u},"774c":function(t,e,n){"use strict";n.r(e);var o=n("e017"),a=n.n(o),r=n("21a1"),c=n.n(r),u=new a.a({id:"preview",use:"preview-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="preview"><defs><style></style></defs><path d="M510.081 265.817c168.502 0 313.536 98.837 381.409 241.474h66.14C885.946 330.382 712.72 205.478 510.08 205.478c-202.61 0-375.836 124.909-447.515 301.813h66.14c67.873-142.637 212.907-241.474 381.375-241.474zm0 482.954c-168.467 0-313.502-98.831-381.374-241.48H62.566c71.68 176.946 244.906 301.854 447.515 301.854 202.638 0 375.864-124.908 447.549-301.854h-66.14c-67.873 142.649-212.907 241.48-381.409 241.48zm-160.96-241.46c0 88.908 72.062 160.974 160.975 160.974 88.907 0 160.974-72.066 160.974-160.973 0-88.912-72.067-160.98-160.974-160.98-88.913 0-160.976 72.068-160.976 160.98zm261.606 0c0 55.562-45.066 100.627-100.63 100.627-55.568 0-100.598-45.065-100.598-100.626 0-55.566 45.03-100.631 100.597-100.631 55.565 0 100.63 45.065 100.63 100.63z" /></symbol>'});c.a.add(u);e["default"]=u},"9c0c":function(t,e,n){},af22:function(t,e,n){"use strict";n.r(e);var o=n("e017"),a=n.n(o),r=n("21a1"),c=n.n(r),u=new a.a({id:"trash",use:"trash-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="trash"><defs><style></style></defs><path d="M955.365 120.695H654.661v-13.748c0-40.567-33.029-73.575-73.597-73.575H447.248c-40.568 0-73.575 33.007-73.575 73.575v13.748H72.99c-12.026 0-21.787 9.76-21.787 21.787s9.76 21.787 21.787 21.787h56.015l71.243 807.862c.981 11.264 10.414 19.869 21.699 19.869h580.122c11.307 0 20.697-8.628 21.699-19.869l71.222-807.862h60.372c12.048 0 21.787-9.76 21.787-21.787s-9.76-21.787-21.787-21.787zm-538.116-13.748c0-16.558 13.464-30.001 30.001-30.001h133.816c16.558 0 30.023 13.464 30.023 30.001v13.748H417.251v-13.748zm364.844 841.479H241.885l-69.13-784.157h678.469l-69.13 784.157zM372.564 801.364c12.026 0 21.787-9.739 21.787-21.787V365.385c0-12.026-9.76-21.787-21.787-21.787s-21.787 9.76-21.787 21.787v414.192c0 12.026 9.76 21.787 21.787 21.787zm141.615 0c12.048 0 21.787-9.739 21.787-21.787V365.385c0-12.026-9.739-21.787-21.787-21.787-12.026 0-21.787 9.76-21.787 21.787v414.192c0 12.026 9.76 21.787 21.787 21.787zm141.615 0c12.048 0 21.787-9.739 21.787-21.787V365.385c0-12.026-9.739-21.787-21.787-21.787s-21.787 9.76-21.787 21.787v414.192c0 12.026 9.739 21.787 21.787 21.787z" /></symbol>'});c.a.add(u);e["default"]=u},b422:function(t,e,n){var o={"./add.svg":"76a4","./addNote.svg":"ca8a","./backto.svg":"0980","./delete.svg":"0d45","./detail.svg":"ddc0","./edit.svg":"daf0","./magnify.svg":"e5bd","./notebook.svg":"6ca5","./preview.svg":"774c","./trash.svg":"af22"};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}a.keys=function(){return Object.keys(o)},a.resolve=r,t.exports=a,a.id="b422"},bf81:function(t,e,n){"use strict";n("2e7a")},ca8a:function(t,e,n){"use strict";n.r(e);var o=n("e017"),a=n.n(o),r=n("21a1"),c=n.n(r),u=new a.a({id:"addNote",use:"addNote-usage",viewBox:"0 0 1028 1024",content:'<symbol class="icon" viewBox="0 0 1028 1024" xmlns="http://www.w3.org/2000/svg" id="addNote"><defs><style></style></defs><path d="M877.904 149.91a510.457 510.457 0 10150.639 362.047A512.043 512.043 0 00877.904 149.91zM771.407 548.728H551.042v220.408a36.77 36.77 0 11-73.498 0V548.728H257.136a36.77 36.77 0 010-73.498h220.408V254.82a36.77 36.77 0 0173.498 0V475.23h220.365a36.77 36.77 0 010 73.498z" /></symbol>'});c.a.add(u);e["default"]=u},cd49:function(t,e,n){"use strict";n.r(e);n("be4f"),n("450d");var o=n("896a"),a=n.n(o),r=(n("bd49"),n("18ff")),c=n.n(r),u=(n("960d"),n("defb")),s=n.n(u),i=(n("cb70"),n("b370")),d=n.n(i),l=(n("9e1f"),n("6ed5")),f=n.n(l),h=(n("0fb7"),n("f529")),b=n.n(h),p=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Sidebar"),n("router-view")],1)},m=[],g=n("d4ec"),k=n("262e"),w=n("2caf"),y=n("1b40"),N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isLogin?n("div",{attrs:{id:"sidebar"}},[n("Avatar"),n("div",{staticClass:"link"},[n("router-link",{attrs:{to:"/note",title:"笔记"}},[n("Icon",{attrs:{name:"detail"}})],1),n("router-link",{attrs:{to:"/notebooks",title:"笔记本"}},[n("Icon",{staticClass:"notebook",attrs:{name:"notebook"}})],1),n("router-link",{attrs:{to:"/trash",title:"回收站"}},[n("Icon",{staticClass:"delete",attrs:{name:"delete"}})],1)],1),n("div",{staticClass:"logout",attrs:{title:"退出登录"},on:{click:t.onLogout}},[n("Icon",{staticClass:"backto",attrs:{name:"backto"}})],1)],1):t._e()},E=[],I=n("5530"),O=n("bee2"),A=(n("5319"),n("ac1f"),n("9ab4")),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{attrs:{title:t.username}},[t._v(t._s(t.slug))])},j=[],M=n("2f62"),x=function(t){Object(k["a"])(n,t);var e=Object(w["a"])(n);function n(){return Object(g["a"])(this,n),e.apply(this,arguments)}return Object(O["a"])(n,[{key:"created",value:function(){this.checkLogin().then()}}]),n}(p["default"]);x=Object(A["a"])([Object(y["a"])({computed:Object(I["a"])({},Object(M["c"])(["username","slug"])),methods:Object(I["a"])({},Object(M["b"])(["checkLogin"]))})],x);var H=x,z=H,L=(n("04db"),n("2877")),C=Object(L["a"])(z,T,j,!1,null,"10dbd416",null),B=C.exports,V=function(t){Object(k["a"])(n,t);var e=Object(w["a"])(n);function n(){var t;return Object(g["a"])(this,n),t=e.apply(this,arguments),t.isLogin="/login"!==t.$route.path,t}return Object(O["a"])(n,[{key:"onRouterChanged",value:function(){this.isLogin="/login"!==this.$route.path}},{key:"onLogout",value:function(){var t=this;this.$confirm("您确定要退出登录吗").then((function(){t.logout().then((function(){t.$router.replace("/login")}))}))}}]),n}(p["default"]);Object(A["a"])([Object(y["c"])("$route")],V.prototype,"onRouterChanged",null),V=Object(A["a"])([Object(y["a"])({components:{Avatar:B},methods:Object(I["a"])({},Object(M["b"])(["logout"]))})],V);var P,D,S=V,_=S,U=(n("bf81"),Object(L["a"])(_,N,E,!1,null,"e36ec862",null)),G=U.exports,$=(P=Object(y["a"])({components:{Sidebar:G}}),P(D=function(t){Object(k["a"])(n,t);var e=Object(w["a"])(n);function n(){return Object(g["a"])(this,n),e.apply(this,arguments)}return n}(p["default"]))||D),R=$,F=(n("5c0b"),Object(L["a"])(R,v,m,!1,null,null,null)),q=F.exports,J=n("9483");Object(J["a"])("".concat("/xiyo-note-website/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("d3b7"),n("3ca3"),n("ddb0");var K=n("8c4f");p["default"].use(K["a"]);var Q=[{path:"/",alias:"/notebooks",component:function(){return n.e("chunk-893e7754").then(n.bind(null,"976e"))}},{path:"/login",component:function(){return n.e("chunk-59868aec").then(n.bind(null,"a55b"))}},{path:"/note",component:function(){return Promise.all([n.e("chunk-44c8b642"),n.e("chunk-eb366338")]).then(n.bind(null,"65b4"))}},{path:"/trash",component:function(){return Promise.all([n.e("chunk-44c8b642"),n.e("chunk-e6706192")]).then(n.bind(null,"68b0"))}},{path:"*",component:function(){return n.e("chunk-2d21af29").then(n.bind(null,"be4d"))}}],W=new K["a"]({routes:Q}),X=W,Y=(n("7db0"),n("4de4"),n("159b"),n("53ca"));function Z(t){var e="object"===Object(Y["a"])(t)?t:new Date(t),n=e.getTime(),o=(new Date).getTime(),a=o-n,r="";switch(!0){case a<6e4:r="刚刚";break;case a<36e5:r=Math.floor(a/6e4)+"分钟前";break;case a<864e5:r=Math.floor(a/36e5)+"小时前";break;default:r=Math.floor(a/864e5)+"天前"}return r}var tt=n("2b7c").default,et={GET:"/notebooks",ADD:"/notebooks",UPDATE:"/notebooks/:id",DELETE:"/notebooks/:id"},nt={getAll:function(){return new Promise((function(t,e){tt(et.GET).then((function(e){e.data.sort((function(t,e){return t.createdAt<e.createdAt?1:-1})),e.data.forEach((function(t){return t.friendlyCreatedAt=Z(t.createdAt)})),t(e)})).catch((function(t){return e(t)}))}))},addNotebook:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:""},e=t.title,n=void 0===e?"":e;return new Promise((function(t,e){tt(et.ADD,"POST",{title:n}).then((function(e){e.data.noteCounts=0,e.data.friendlyCreatedAt=Z(e.data.createdAt),t(e)})).catch((function(t){return e(t)}))}))},updateNotebook:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{title:""},n=e.title,o=void 0===n?"":n;return tt(et.UPDATE.replace(":id",t),"PATCH",{title:o})},deleteNotebook:function(t){return tt(et.DELETE.replace(":id",t),"DELETE")}},ot={notebooks:null,curBookId:null},at={notebooks:function(t){return t.notebooks||[]},curBook:function(t){return Array.isArray(t.notebooks)?t.curBookId?t.notebooks.find((function(e){return e.id===t.curBookId})):t.notebooks[0]||{}:{}}},rt={setNotebooks:function(t,e){t.notebooks=e.notebooks},addNotebook:function(t,e){t.notebooks.unshift(e.notebook)},updateNotebook:function(t,e){var n=t.notebooks.find((function(t){return t.id===e.notebookId}))||{title:""};n.title=e.title},deleteNotebook:function(t,e){t.notebooks=t.notebooks.filter((function(t){return t.id!==e.notebookId}))},setCurBook:function(t,e){t.curBookId=e.curBookId}},ct={getNotebooks:function(t){var e=t.commit;return nt.getAll().then((function(t){e("setNotebooks",{notebooks:t.data})}))},addNotebook:function(t,e){var n=t.commit,o=e.title;return nt.addNotebook({title:o}).then((function(t){n("addNotebook",{notebook:t.data}),b.a.success(t.msg)}))},updateNotebook:function(t,e){var n=t.commit,o=e.notebookId,a=e.title;return nt.updateNotebook(o,{title:a}).then((function(t){n("updateNotebook",{notebookId:o,title:a}),b.a.success(t.msg)}))},deleteNotebook:function(t,e){var n=t.commit,o=e.notebookId;return nt.deleteNotebook(o).then((function(t){n("deleteNotebook",{notebookId:o}),b.a.success(t.msg)}))}},ut={state:ot,getters:at,mutations:rt,actions:ct},st=(n("25f0"),n("2b7c").default),it={GET:"/notes/from/:notebookId",ADD:"/notes/to/:notebookId",UPDATE:"/notes/:noteId",DELETE:"/notes/:noteId"},dt={getAll:function(t){return new Promise((function(e,n){st(it.GET.replace(":notebookId",t.toString())).then((function(t){t.data.forEach((function(t){t.friendlyCreatedAt=Z(t.createdAt),t.friendlyUpdatedAt=Z(t.updatedAt)})),t.data.sort((function(t,e){return t.updatedAt<e.updatedAt?1:-1})),e(t)})).catch((function(t){return n(t)}))}))},addNote:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{title:"",content:""},n=e.title,o=void 0===n?"":n,a=e.content,r=void 0===a?"":a;return new Promise((function(e,n){st(it.ADD.replace(":notebookId",t.toString()),"POST",{title:o,content:r}).then((function(t){t.data.friendlyCreatedAt=Z(t.data.createdAt),t.data.friendlyUpdatedAt=Z(t.data.updatedAt),e(t)})).catch((function(t){return n(t)}))}))},updateNote:function(t,e,n){return st(it.UPDATE.replace(":noteId",t.toString()),"PATCH",{title:e,content:n})},deleteNote:function(t){return st(it.DELETE.replace(":noteId",t.toString()),"DELETE")}},lt={notebook:null,curNoteId:null},ft={notebook:function(t){return t.notebook||[]},curNote:function(t){return Array.isArray(t.notebook)?t.curNoteId?t.notebook.find((function(e){return e.id===t.curNoteId}))||{}:t.notebook[0]||{}:{}}},ht={setNotebook:function(t,e){t.notebook=e.notebook},addNote:function(t,e){t.notebook.unshift(e.note)},updateNote:function(t,e){var n=t.notebook.find((function(t){return t.id===e.noteId}));n&&(t.curNote=n)},deleteNote:function(t,e){t.notebook=t.notebook.filter((function(t){return t.id!==e.noteId}))},setCurNote:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{curNoteId:""};t.curNoteId=parseInt(e.curNoteId)}},bt={getNotebook:function(t,e){var n=t.commit,o=e.notebookId;return dt.getAll(o).then((function(t){n("setNotebook",{notebook:t.data})}))},addNote:function(t,e){var n=t.commit,o=e.notebookId,a=e.title,r=e.content;return dt.addNote(o,{title:a,content:r}).then((function(t){n("addNote",{note:t.data})}))},updateNote:function(t,e){var n=t.commit,o=e.noteId,a=e.title,r=e.content;return dt.updateNote(o,a,r).then((function(){n("updateNote",{noteId:o})}))},deleteNote:function(t,e){var n=t.commit,o=e.noteId;return dt.deleteNote(o).then((function(t){n("deleteNote",{noteId:o}),b.a.success(t.msg)}))}},pt={state:lt,getters:ft,mutations:ht,actions:bt},vt=n("2b7c").default,mt={REGISTER:"/auth/register",LOGIN:"/auth/login",LOGOUT:"/auth/logout",GET_INFO:"auth"},gt={register:function(t){var e=t.username,n=t.password;return vt(mt.REGISTER,"POST",{username:e,password:n})},login:function(t){var e=t.username,n=t.password;return vt(mt.LOGIN,"POST",{username:e,password:n})},logout:function(){return vt(mt.LOGOUT)},getInfo:function(){return vt(mt.GET_INFO)}},kt={user:null},wt={username:function(t){return null===t.user?"Visitor":t.user.username},slug:function(t){return null===t.user?"V":t.user.username.charAt(0)}},yt={setUser:function(t,e){t.user=e.user}},Nt={loginUser:function(t,e){var n=t.commit,o=e.username,a=e.password;return gt.login({username:o,password:a}).then((function(t){n("setUser",{user:t.data})}))},registerUser:function(t,e){var n=t.commit,o=e.username,a=e.password;return gt.register({username:o,password:a}).then((function(t){n("setUser",{user:t.data})}))},logout:function(t){var e=t.commit;return gt.logout().then((function(){e("setUser",{user:null})}))},checkLogin:function(t){var e=t.commit,n=t.state;return n.user?Promise.resolve():gt.getInfo().then((function(t){t.isLogin?e("setUser",{user:t.data}):X.push("/login")}))}},Et={state:kt,getters:wt,mutations:yt,actions:Nt},It=n("2b7c").default,Ot={GET:"notes/trash",REVERT:"/notes/:noteId/revert",DELETE:"/notes/:noteId/confirm"},At={getAll:function(){return new Promise((function(t,e){It(Ot.GET).then((function(e){e.data.forEach((function(t){t.friendlyCreatedAt=Z(t.createdAt),t.friendlyUpdatedAt=Z(t.updatedAt)})),e.data.sort((function(t,e){return t.updatedAt<e.updatedAt?1:-1})),t(e)})).catch((function(t){return e(t)}))}))},revertNote:function(t){return It(Ot.REVERT.replace(":noteId",t.toString()),"PATCH")},deleteNote:function(t){return It(Ot.DELETE.replace(":noteId",t.toString()),"DELETE")}},Tt={trashNotes:null,curTrashNoteId:null},jt={trashNotes:function(t){return t.trashNotes||[]},curTrashNote:function(t,e){return t.curTrashNoteId?t.trashNotes.find((function(e){return e.id===t.curTrashNoteId}))||{}:e.trashNotes[0]||{}},belongTo:function(t,e,n,o){var a=o.notebooks.find((function(t){return t.id===e.curTrashNote.notebookId}))||{title:""};return a.title}},Mt={setTrashNotes:function(t,e){t.trashNotes=e.trashNotes},deleteTrashNote:function(t,e){t.trashNotes=t.trashNotes.filter((function(t){return t.id!==e.noteId}))},setCurTrashNote:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{noteId:""};t.curTrashNoteId=parseInt(e.noteId)}},xt={getTrashNotes:function(t){var e=t.commit;return At.getAll().then((function(t){e("setTrashNotes",{trashNotes:t.data})}))},deleteTrashNote:function(t,e){var n=t.commit,o=e.noteId;return At.deleteNote(o).then((function(t){n("deleteTrashNote",{noteId:o}),b.a.success(t.msg)}))},revertTrashNote:function(t,e){var n=t.commit,o=e.noteId;return At.revertNote(o).then((function(t){n("deleteTrashNote",{noteId:o}),b.a.success(t.msg)}))}},Ht={state:Tt,getters:jt,mutations:Mt,actions:xt};p["default"].use(M["a"]);var zt=new M["a"].Store({modules:{notebook:ut,note:pt,user:Et,trash:Ht}}),Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"icon"},[n("use",{attrs:{"xlink:href":"#"+t.name}})])},Ct=[],Bt=function(t){return t.keys().forEach(t)};try{Bt(n("b422"))}catch(Ut){console.log(Ut)}var Vt=function(t){Object(k["a"])(n,t);var e=Object(w["a"])(n);function n(){return Object(g["a"])(this,n),e.apply(this,arguments)}return n}(p["default"]);Object(A["a"])([Object(y["b"])()],Vt.prototype,"name",void 0),Vt=Object(A["a"])([y["a"]],Vt);var Pt=Vt,Dt=Pt,St=Object(L["a"])(Dt,Lt,Ct,!1,null,null,null),_t=St.exports;n("49f4");p["default"].config.productionTip=!1,p["default"].component("Icon",_t),p["default"].component("Message",b.a),p["default"].component("MessageBox",f.a),p["default"].use(d.a),p["default"].use(s.a),p["default"].use(c.a),p["default"].use(a.a),p["default"].prototype.$message=b.a,p["default"].prototype.$prompt=f.a.prompt,p["default"].prototype.$confirm=f.a.confirm,new p["default"]({router:X,store:zt,render:function(t){return t(q)}}).$mount("#app")},daf0:function(t,e,n){"use strict";n.r(e);var o=n("e017"),a=n.n(o),r=n("21a1"),c=n.n(r),u=new a.a({id:"edit",use:"edit-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="edit"><defs><style></style></defs><path d="M874.667 859.136A21.333 21.333 0 01896 880.469v21.334a21.333 21.333 0 01-21.333 21.333H149.333A21.333 21.333 0 01128 901.803v-21.334a21.333 21.333 0 0121.333-21.333h725.334zM610.26 92.906a42.667 42.667 0 0160.16-.213l114.006 112.534c16.832 16.768 16.874 43.776.234 60.48L306.22 745.792a21.333 21.333 0 01-15.126 6.293H146.475a21.333 21.333 0 01-21.334-21.333V587.605a21.333 21.333 0 016.251-15.104zm30.294 60.246L189.14 605.227v82.858h84.203l450.837-452.352-83.626-82.56z" /></symbol>'});c.a.add(u);e["default"]=u},ddc0:function(t,e,n){"use strict";n.r(e);var o=n("e017"),a=n.n(o),r=n("21a1"),c=n.n(r),u=new a.a({id:"detail",use:"detail-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="detail"><defs><style></style></defs><path d="M234.667 704h-64a21.333 21.333 0 010-42.667h64v-128h-64a21.333 21.333 0 010-42.666h64v-128h-64a21.333 21.333 0 010-42.667h64v-64A85.333 85.333 0 01320 170.667h426.667A85.333 85.333 0 01832 256v512a85.333 85.333 0 01-85.333 85.333H320A85.333 85.333 0 01234.667 768v-64zm170.666-341.333a21.333 21.333 0 000 42.666h256a21.333 21.333 0 000-42.666h-256zm0 128a21.333 21.333 0 000 42.666h256a21.333 21.333 0 000-42.666h-256zm0 128a21.333 21.333 0 000 42.666H512a21.333 21.333 0 000-42.666H405.333z" /></symbol>'});c.a.add(u);e["default"]=u},e5bd:function(t,e,n){"use strict";n.r(e);var o=n("e017"),a=n.n(o),r=n("21a1"),c=n.n(r),u=new a.a({id:"magnify",use:"magnify-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="magnify"><defs><style></style></defs><path d="M876.7 170.8v113.13" /><path d="M876.7 295.93a12 12 0 01-12-12V170.8a12 12 0 1124 0v113.13a12 12 0 01-12 12z" /><path d="M763.57 170.8H876.7" /><path d="M876.7 182.8H763.57a12 12 0 010-24H876.7a12 12 0 010 24z" /><path d="M876.7 170.8L607.3 440.2" /><path d="M607.3 452.2a12 12 0 01-8.49-20.48l269.41-269.41a12 12 0 0117 17L615.78 448.69a12 12 0 01-8.48 3.51z" /><path d="M876.7 901.2H763.57" /><path d="M876.7 913.2H763.57a12 12 0 110-24H876.7a12 12 0 010 24z" /><path d="M876.7 788.07V901.2" /><path d="M876.7 913.2a12 12 0 01-12-12V788.07a12 12 0 1124 0V901.2a12 12 0 01-12 12z" /><path d="M876.7 901.2L607.3 631.8" /><path d="M876.7 913.2a12 12 0 01-8.48-3.51L598.81 640.28a12 12 0 0117-17l269.38 269.44a12 12 0 01-8.49 20.48z" /><path d="M147.3 901.2V788.07" /><path d="M147.3 913.2a12 12 0 01-12-12V788.07a12 12 0 0124 0V901.2a12 12 0 01-12 12z" /><path d="M260.43 901.2H147.3" /><path d="M260.43 913.2H147.3a12 12 0 110-24h113.13a12 12 0 110 24z" /><path d="M147.3 901.2l269.4-269.4" /><path d="M147.3 913.2a12 12 0 01-8.49-20.48l269.41-269.41a12 12 0 1117 17L155.78 909.69a12 12 0 01-8.48 3.51z" /><path d="M147.3 170.8h113.13" /><path d="M260.43 182.8H147.3a12 12 0 010-24h113.13a12 12 0 010 24z" /><path d="M147.3 283.93V170.8" /><path d="M147.3 295.93a12 12 0 01-12-12V170.8a12 12 0 0124 0v113.13a12 12 0 01-12 12z" /><path d="M147.3 170.8l269.4 269.4" /><path d="M416.7 452.2a12 12 0 01-8.48-3.51L138.81 179.28a12 12 0 0117-17l269.38 269.44a12 12 0 01-8.49 20.48z" /></symbol>'});c.a.add(u);e["default"]=u},ec58:function(t,e,n){}});
//# sourceMappingURL=app.22bb19e3.js.map